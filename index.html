<!doctype html>

<head>
	<meta charset="utf-8">
	<script>
		const handleSetSearchEngine = (event) => {

			const actions = {
				'bing' : 'https://bing.com/search',
				'google': 'https://google.com/search',
				'duckduckgo' : 'https://duckduckgo.com',
				'ask': 'https://ask.com/web'
	
			};

			const form = document.getElementById('searchForm');
			const selectedEngine = document.querySelector('input[name=engine]:checked');
			const searchTerm = document.querySelector('input[name=q]').value;

			if(searchTerm.trim() === ' '){
				alert('Please enter a search term!');
				event.preventDefault();
				return;
			}

			if(selectedEngine === null){
				alert('Please enter an engine!');
				event.preventDefault();
				return;
			};

			const action = actions[selectedEngine.value];

			if(action === undefined){
				alert('You somehow broke our code!');
				event.preventDefault();
				return;
			}

			form.setAttribute('action', action);
			
		}

    	window.addEventListener("load", function(){
			
			const form = document.getElementById('searchForm');
			
			form.addEventListener('submit', handleSetSearchEngine(event));

			
    	});
	</script>
</head>

<body>

	<form id="searchForm" action></form>>
		<div>
			<label>Search Query<input name="q" type="text"/></label>
		</div>

		<div>
			<label><input type="radio" name="engine" value="duckduckgo"/>Duck Duck Go</label>
			<label><input type="radio" name="engine" value="google"/>Google</label>
			<label><input type="radio" name="engine" value="bing"/>Bing</Label>
			<label><input type="radio" name="engine" value="ask"/>Ask</label>
		</div>

		<input type="submit" value="GO!"/>

	</form>

</body>